<% cats = @game.sixths.to_a.sort_by { |cat| [cat.type, cat.board_position] } %>

<%= form_for(@game) do |f| %>
  Show date: <%= f.date_field :show_date %>
  Date played: <%= f.datetime_field :date_played %>
  Play type: <%= f.text_field :play_type %>

  <% ['j', 'd'].each do |r| %>
    <% 1.upto(6) do |i| %>
      <% cat = cats.shift || Sixth.new %>
      <%= hidden_field_tag "#{r}#{i}cat", cat.title || '' %>
      <%= hidden_field_tag "#{r}#{i}r1", cat.result1 || 0 %>
      <%= hidden_field_tag "#{r}#{i}r2", cat.result2 || 0 %>
      <%= hidden_field_tag "#{r}#{i}r3", cat.result3 || 0 %>
      <%= hidden_field_tag "#{r}#{i}r4", cat.result4 || 0 %>
      <%= hidden_field_tag "#{r}#{i}r5", cat.result5 || 0 %>
    <% end %>
  <% end %>

  <% fj = @game.final || Final.new %>
  <%= hidden_field_tag "fcat", fj.category_title || '' %>
  <%= hidden_field_tag "fres", fj.result || 0 %>
  <%= hidden_field_tag "fcr", fj.contestants_right || 0 %>
  <%= hidden_field_tag "fcw", fj.contestants_wrong || 0 %>

  <%= f.submit "Save Game", class: "btn btn-link" %>
<% end %>
